(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{179:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a(64),c=a(35),i=a.n(c),s=a(46),o=a(16),d=a(22),u=a(230),l=a(220),j=a(224),b=a(237),h=a(227),p=a(231),f=a(235),x=a(236),m=a(234),O=a(120),g=a(232),v=a(44),w=function(){return Object(r.b)()},y=r.c,C=a(15),k=a.n(C),S=a(18),L=a(32),I=function(t){localStorage.setItem("accessToken",t.accessToken)},W=function(){try{return Boolean(function(){var t=localStorage.getItem("accessToken");if(!t)throw Error("Dont Have Access Token");return t}())}catch(t){return!1}},M=a(83),T=a.n(M).a.create({baseURL:"http://localhost:4000",timeout:15e3}),F=function(t){return T.post("/auth/sign-in/",t.data)},U=function(t){return T.post("/auth/sign-up/",t.data)},D={user:{id:-1,name:"",email:""},loading:{post:{signIn:!1,signUp:!1}}},V=function(){window.location.href="/todo-frontend/dashboard/"},E=Object(L.b)("auth/signIn",function(){var t=Object(S.a)(k.a.mark((function t(e,a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"Auth Error: Sign In"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),q=Object(L.b)("auth/signUp",function(){var t=Object(S.a)(k.a.mark((function t(e,a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"Auth Error: Sign Up"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),R=Object(L.c)({name:"auth",initialState:D,reducers:{},extraReducers:function(t){t.addCase(E.pending,(function(t){t.loading.post.signIn=!0})).addCase(E.fulfilled,(function(t,e){t.loading.post.signIn=!1,t.user=e.payload.user,I({accessToken:e.payload.accessToken}),V()})).addCase(E.rejected,(function(t){t.loading.post.signIn=!1})).addCase(q.pending,(function(t){t.loading.post.signUp=!0})).addCase(q.fulfilled,(function(t,e){t.loading.post.signUp=!1,t.user=e.payload.user,I({accessToken:e.payload.accessToken}),V()})).addCase(q.rejected,(function(t){t.loading.post.signUp=!1}))}}).reducer,A=a(1),z=Object(O.a)(),_=function(){var t=w(),e=Object(v.a)(),a=e.register,n=e.handleSubmit;return Object(A.jsx)(g.a,{theme:z,children:Object(A.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(l.a,{}),Object(A.jsxs)(f.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(A.jsxs)(f.a,{component:"form",onSubmit:n((function(e){return t(E({data:e}))})),noValidate:!0,sx:{mt:1},children:[Object(A.jsx)(j.a,Object(d.a)({margin:"normal",label:"email",fullWidth:!0,autoComplete:"email",autoFocus:!0},a("email",{required:!0}))),Object(A.jsx)(j.a,Object(d.a)({margin:"normal",label:"password",fullWidth:!0,type:"password",autoComplete:"current-password"},a("password",{required:!0}))),Object(A.jsx)(b.a,{control:Object(A.jsx)(h.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(A.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(A.jsxs)(p.a,{container:!0,children:[Object(A.jsx)(p.a,{item:!0,xs:!0,children:Object(A.jsx)(s.b,{to:"#",children:"Forgot password?"})}),Object(A.jsx)(p.a,{item:!0,children:Object(A.jsx)(s.b,{to:"/sign-up/",children:"Don't have an account? Sign Up"})})]})]})]})]})})},B=Object(O.a)(),G=function(){var t=w(),e=Object(v.a)(),a=e.register,n=e.handleSubmit;return Object(A.jsx)(g.a,{theme:B,children:Object(A.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(l.a,{}),Object(A.jsxs)(f.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(A.jsxs)(f.a,{component:"form",noValidate:!0,onSubmit:n((function(e){return t(q({data:e}))})),sx:{mt:3},children:[Object(A.jsxs)(p.a,{container:!0,spacing:2,children:[Object(A.jsx)(p.a,{item:!0,xs:12,children:Object(A.jsx)(j.a,Object(d.a)({fullWidth:!0,label:"name",autoComplete:"name"},a("name",{required:!0})))}),Object(A.jsx)(p.a,{item:!0,xs:12,children:Object(A.jsx)(j.a,Object(d.a)({fullWidth:!0,label:"email",autoComplete:"email"},a("email",{required:!0})))}),Object(A.jsx)(p.a,{item:!0,xs:12,children:Object(A.jsx)(j.a,Object(d.a)({fullWidth:!0,type:"password",label:"password",autoComplete:"new-password"},a("password",{required:!0})))}),Object(A.jsx)(p.a,{item:!0,xs:12,children:Object(A.jsx)(b.a,{control:Object(A.jsx)(h.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(A.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(A.jsx)(p.a,{container:!0,justifyContent:"flex-end",children:Object(A.jsx)(p.a,{item:!0,children:Object(A.jsx)(s.b,{to:"/",children:"Already have an account? Sign in"})})})]})]})]})})},J=a(13),N=function(t){var e=t.children,a=Object(O.a)();return Object(A.jsx)(g.a,{theme:a,children:Object(A.jsxs)(f.a,{height:"100%",sx:{display:"flex"},children:[Object(A.jsx)(l.a,{}),e]})})},P=a(241),H=function(t){var e=t.children;return Object(A.jsxs)(f.a,{component:"main",sx:{backgroundColor:function(t){return"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(A.jsx)(P.a,{}),e]})},X=a(228),K=a(244),Q=a(245),Y=a(115),Z=a.n(Y),$=a(116),tt=a.n($),et=a(117),at=a.n(et),nt=a(5),rt=a(242),ct=a(238),it=a(113),st=a.n(it),ot=Object(nt.a)(rt.a,{shouldForwardProp:function(t){return"open"!==t}})((function(t){var e=t.theme,a=t.open;return Object(d.a)({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},a&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),dt=function(t){var e=t.open,a=t.toggle,n=t.boardName;return Object(A.jsx)(ot,{position:"absolute",open:e,children:Object(A.jsxs)(P.a,{sx:{pr:"24px"},children:[Object(A.jsx)(ct.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,sx:Object(d.a)({marginRight:"36px"},e&&{display:"none"}),children:Object(A.jsx)(st.a,{})}),Object(A.jsx)(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:n})]})})},ut=a(4),lt=a(233),jt=a(240),bt=a(243),ht=a(114),pt=a.n(ht),ft=Object(nt.a)(lt.a,{shouldForwardProp:function(t){return"open"!==t}})((function(t){var e=t.theme,a=t.open;return{"& .MuiDrawer-paper":Object(d.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),boxSizing:"border-box"},!a&&Object(ut.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}))}})),xt=function(t){var e=t.open,a=t.toggle,n=t.children;return Object(A.jsxs)(ft,{variant:"permanent",open:e,children:[Object(A.jsx)(P.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(A.jsx)(ct.a,{onClick:a,children:Object(A.jsx)(pt.a,{})})}),Object(A.jsx)(bt.a,{}),Object(A.jsx)(jt.a,{children:n})]})},mt=function(t){var e=t.children,a=y((function(t){return t.dashboard.dashboard})),r=Object(n.useState)(!1),c=Object(J.a)(r,2),i=c[0],s=c[1],o=function(){return s((function(t){return!t}))},d=a.tittle?a.tittle:"\u540d\u79f0\u672a\u8a2d\u5b9a";return Object(A.jsxs)(N,{children:[Object(A.jsx)(dt,{open:i,toggle:o,boardName:d}),Object(A.jsxs)(xt,{open:i,toggle:o,children:[Object(A.jsxs)(X.a,{button:!0,children:[Object(A.jsx)(K.a,{children:Object(A.jsx)(Z.a,{})}),Object(A.jsx)(Q.a,{primary:"Dashboard"})]}),Object(A.jsxs)(X.a,{button:!0,children:[Object(A.jsx)(K.a,{children:Object(A.jsx)(tt.a,{})}),Object(A.jsx)(Q.a,{primary:"Members"})]}),Object(A.jsxs)(X.a,{button:!0,children:[Object(A.jsx)(K.a,{children:Object(A.jsx)(at.a,{})}),Object(A.jsx)(Q.a,{primary:"Settings"})]})]}),Object(A.jsx)(H,{children:e})]})},Ot=a(246),gt=a(118),vt=a.n(gt),wt=a(14),yt=function(t){return T.post("/dashboard/",t.data)},Ct=function(t){return T.post("/dashboard/".concat(t.dashboardId,"/cardList/"),t.data)},kt=function(t){return T.post("/dashboard/".concat(t.dashboardId,"/cardList/").concat(t.cardListId,"/cards/"),t.data)},St={dashboard:{id:-1,tittle:"",cardLists:[]},loading:{post:{create:!1,createCardList:!1,createCard:!1}}},Lt=Object(L.b)("dashboard/create",function(){var t=Object(S.a)(k.a.mark((function t(e,a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),It=Object(L.b)("dashboard/createCard",function(){var t=Object(S.a)(k.a.mark((function t(e,a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"\u30ab\u30fc\u30c9\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),Wt=Object(L.b)("dashboard/createCardList",function(){var t=Object(S.a)(k.a.mark((function t(e,a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"\u30ab\u30fc\u30c9\u30ea\u30b9\u30c8\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),Mt=Object(L.c)({name:"dashboard",initialState:St,reducers:{},extraReducers:function(t){t.addCase(Lt.pending,(function(t){t.loading.post.create=!0})).addCase(Lt.fulfilled,(function(t,e){t.loading.post.create=!1,t.dashboard=e.payload.dashboard})).addCase(Lt.rejected,(function(t){t.loading.post.create=!1})).addCase(Wt.pending,(function(t){t.loading.post.createCardList=!0})).addCase(Wt.fulfilled,(function(t,e){t.loading.post.createCardList=!1,t.dashboard.cardLists=[].concat(Object(wt.a)(t.dashboard.cardLists),[e.payload.cardList])})).addCase(Wt.rejected,(function(t){t.loading.post.createCardList=!1})).addCase(It.pending,(function(t){t.loading.post.createCard=!0})).addCase(It.fulfilled,(function(t,e){t.loading.post.createCard=!1;var a=t.dashboard.cardLists.findIndex((function(t){return t.id===e.meta.arg.cardListId}));t.dashboard.cardLists[a].cards=[].concat(Object(wt.a)(t.dashboard.cardLists[a].cards),[e.payload.card])})).addCase(It.rejected,(function(t){t.loading.post.createCard=!1}))}}).reducer,Tt=function(t){var e=t.dashboard;return Object(A.jsx)(mt,{children:Object(A.jsx)(Ft,{cardLists:e.cardLists})})},Ft=function(t){var e=t.cardLists;return Object(A.jsxs)(f.a,{overflow:"auto",sx:{display:"flex",flexDirection:"row",m:4,height:640},children:[e.map((function(t,e){return Object(A.jsx)(Dt,{name:t.tittle,cardListId:t.id,cards:t.cards},"cardList-".concat(e))})),Object(A.jsx)(Ut,{})]})},Ut=function(t){var e=Object(v.a)(),a=e.register,r=e.reset,c=e.handleSubmit,i=Object(n.useState)(!1),s=Object(J.a)(i,2),o=s[0],u=s[1],l=w();return Object(A.jsx)(f.a,{component:"form",onSubmit:c((function(t){l(Wt({dashboardId:1,data:t})),u(!1),r()})),sx:{display:"block"},children:Object(A.jsxs)(Ot.a,{sx:{minWidth:360,m:2,p:2,backgroundColor:"#ffffff3d"},onClick:function(){o||u(!0)},children:["\u30ea\u30b9\u30c8\u3092\u8ffd\u52a0",o&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(j.a,Object(d.a)({margin:"normal",placeholder:"\u30ea\u30b9\u30c8\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b...",sx:{maxWidth:320},fullWidth:!0,autoFocus:!0},a("tittle"))),Object(A.jsx)(ct.a,{onClick:function(){u(!1),r()},children:Object(A.jsx)(vt.a,{})})]})]})})},Dt=function(t){var e=t.name,a=t.cardListId,r=t.cards,c=Object(n.useState)(!1),i=Object(J.a)(c,2),s=i[0],o=i[1],l=Object(v.a)(),b=l.register,h=l.reset,p=l.handleSubmit,m=w(),O=function(){o((function(t){return!t})),h()};return Object(A.jsx)(f.a,{sx:{minWidth:360,display:"block"},children:Object(A.jsxs)(f.a,{component:"form",onSubmit:p((function(t){m(It({dashboardId:1,cardListId:a,data:t})),O()})),sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",backgroundColor:"#ebecf0",p:2,m:2},children:[Object(A.jsx)(x.a,{children:e}),r.length>=1&&r.map((function(t,e){return Object(A.jsx)(Vt,{card:t},"card-".concat(e))})),s&&Object(A.jsx)(j.a,Object(d.a)({margin:"normal",placeholder:"\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b...",fullWidth:!0,autoFocus:!0},b("tittle"))),Object(A.jsx)(u.a,{sx:{mt:2},variant:"outlined",onClick:O,children:"\u30ab\u30fc\u30c9\u3092\u8ffd\u52a0"})]})})},Vt=function(t){var e=t.card;return Object(A.jsx)(Ot.a,{sx:{mt:2,p:2,width:"100%"},children:e.tittle})},Et=function(){var t=y((function(t){return t.dashboard.dashboard}));return Object(A.jsx)(Tt,{dashboard:t})},qt=function(){var t=W();return Object(A.jsx)(s.a,{basename:"/todo-frontend",children:Object(A.jsx)(o.d,{children:t?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(o.b,{path:"/dashboard/",element:Object(A.jsx)(Et,{})}),Object(A.jsx)(o.b,{path:"*",element:Object(A.jsx)(o.a,{to:"/dashboard/"})})]}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(o.b,{path:"/sign-in/",element:Object(A.jsx)(_,{})}),Object(A.jsx)(o.b,{path:"/sign-up/",element:Object(A.jsx)(G,{})}),Object(A.jsx)(o.b,{path:"*",element:Object(A.jsx)(o.a,{to:"/sign-in/"})})]})})})},Rt=a(119),At=a.n(Rt),zt=a(38),_t=Object(L.a)({reducer:Object(zt.b)({auth:R,dashboard:Mt})}),Bt={post:function(){var t=Object(S.a)(k.a.mark((function t(e){var a,n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=_t.getState().dashboard.dashboard.cardLists,n=a.length>=1?Math.max.apply(Math,Object(wt.a)(a.map((function(t){return t.cards.length>=1?Math.max.apply(Math,Object(wt.a)(t.cards.map((function(t){return t.id})))):0})))):0,r={card:{id:n+1,tittle:e.data.tittle}},t.abrupt("return",[200,r]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Gt={post:function(){var t=Object(S.a)(k.a.mark((function t(e){var a,n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=_t.getState().dashboard.dashboard.cardLists,n=a.length>=1?Math.max.apply(Math,Object(wt.a)(a.map((function(t){return t.id})))):0,r={cardList:{id:n+1,tittle:e.data.tittle,cards:[]}},t.abrupt("return",[200,r]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Jt={post:function(){var t=Object(S.a)(k.a.mark((function t(e){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dashboard:{id:1,tittle:e.data.tittle,cardLists:[]}},t.abrupt("return",[200,a]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Nt={post:function(){var t=Object(S.a)(k.a.mark((function t(e){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={user:{id:1,name:e.data.name,email:e.data.email},accessToken:"hogehoge"},t.abrupt("return",[200,a]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Pt={post:function(){var t=Object(S.a)(k.a.mark((function t(e){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={user:{id:1,name:"\u30c6\u30b9\u30c8\u592a\u90ce",email:e.data.email},accessToken:"hogehoge"},t.abrupt("return",[200,a]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ht=function(){var t;t=T,At()([{path:"/dashboard/_dashboardId/cardList/_cardListId/cards",methods:Bt},{path:"/dashboard/_dashboardId/cardList",methods:Gt},{path:"/dashboard",methods:Jt},{path:"/auth/sign-up",methods:Nt},{path:"/auth/sign-in",methods:Pt}],t,"")},Xt=function(){return Kt(),Object(A.jsx)(qt,{})},Kt=function(){Ht()};i.a.render(Object(A.jsx)(n.StrictMode,{children:Object(A.jsx)(r.a,{store:_t,children:Object(A.jsx)(Xt,{})})}),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.f1480b03.chunk.js.map