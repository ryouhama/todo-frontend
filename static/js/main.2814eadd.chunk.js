(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{178:function(t,e,a){"use strict";a.r(e);var n,r=a(0),c=a(35),i=a.n(c),s=a(45),o=a(16),d=a(22),u=a(229),l=a(219),j=a(223),b=a(236),h=a(226),p=a(230),f=a(234),x=a(235),m=a(233),O=a(119),g=a(231),v=a(43),w=a(63),y=function(){return Object(w.b)()},C=w.c,k=a(15),S=a.n(k),L=a(18),I=a(32),W=function(t){localStorage.setItem("accessToken",t.accessToken)},M=function(){try{return Boolean(function(){var t=localStorage.getItem("accessToken");if(!t)throw Error("Dont Have Access Token");return t}())}catch(t){return!1}},T=a(82),U=a.n(T),D=a(111),F=a.n(D),V=a(14),E=function(t){return Q.post("/dashboard/",t.data)},q=function(t){return Q.post("/dashboard/".concat(t.dashboardId,"/cardList/"),t.data)},R=function(t){return Q.post("/dashboard/".concat(t.dashboardId,"/cardList/").concat(t.cardListId,"/cards/"),t.data)},A={dashboard:{id:-1,tittle:"",cardLists:[]},loading:{post:{create:!1,createCardList:!1,createCard:!1}}},z=Object(I.b)("dashboard/create",function(){var t=Object(L.a)(S.a.mark((function t(e,a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),_=Object(I.b)("dashboard/createCard",function(){var t=Object(L.a)(S.a.mark((function t(e,a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"\u30ab\u30fc\u30c9\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),B=Object(I.b)("dashboard/createCardList",function(){var t=Object(L.a)(S.a.mark((function t(e,a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"\u30ab\u30fc\u30c9\u30ea\u30b9\u30c8\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),G=Object(I.c)({name:"dashboard",initialState:A,reducers:{},extraReducers:function(t){t.addCase(z.pending,(function(t){t.loading.post.create=!0})).addCase(z.fulfilled,(function(t,e){t.loading.post.create=!1,t.dashboard=e.payload.dashboard})).addCase(z.rejected,(function(t){t.loading.post.create=!1})).addCase(B.pending,(function(t){t.loading.post.createCardList=!0})).addCase(B.fulfilled,(function(t,e){t.loading.post.createCardList=!1,t.dashboard.cardLists=[].concat(Object(V.a)(t.dashboard.cardLists),[e.payload.cardList])})).addCase(B.rejected,(function(t){t.loading.post.createCardList=!1})).addCase(_.pending,(function(t){t.loading.post.createCard=!0})).addCase(_.fulfilled,(function(t,e){t.loading.post.createCard=!1;var a=t.dashboard.cardLists.findIndex((function(t){return t.id===e.meta.arg.cardListId}));t.dashboard.cardLists[a].cards=[].concat(Object(V.a)(t.dashboard.cardLists[a].cards),[e.payload.card])})).addCase(_.rejected,(function(t){t.loading.post.createCard=!1}))}}).reducer,J=Object(I.a)({reducer:{auth:at,dashboard:G}}),N={post:function(){var t=Object(L.a)(S.a.mark((function t(e){var a,n,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=J.getState().dashboard.dashboard.cardLists,n=a.length>=1?Math.max.apply(Math,Object(V.a)(a.map((function(t){return t.cards.length>=1?Math.max.apply(Math,Object(V.a)(t.cards.map((function(t){return t.id})))):0})))):0,r={card:{id:n+1,tittle:e.data.tittle}},t.abrupt("return",[200,r]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P={post:function(){var t=Object(L.a)(S.a.mark((function t(e){var a,n,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=J.getState().dashboard.dashboard.cardLists,n=a.length>=1?Math.max.apply(Math,Object(V.a)(a.map((function(t){return t.id})))):0,r={cardList:{id:n+1,tittle:e.data.tittle,cards:[]}},t.abrupt("return",[200,r]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H={post:function(){var t=Object(L.a)(S.a.mark((function t(e){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dashboard:{id:1,tittle:e.data.tittle,cardLists:[]}},t.abrupt("return",[200,a]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X={post:function(){var t=Object(L.a)(S.a.mark((function t(e){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={user:{id:1,name:e.data.name,email:e.data.email},accessToken:"hogehoge"},t.abrupt("return",[200,a]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K={post:function(){var t=Object(L.a)(S.a.mark((function t(e){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={user:{id:1,name:"\u30c6\u30b9\u30c8\u592a\u90ce",email:e.data.email},accessToken:"hogehoge"},t.abrupt("return",[200,a]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=U.a.create({baseURL:"http://localhost:4000",timeout:15e3});n=Q,F()([{path:"/dashboard/_dashboardId/cardList/_cardListId/cards",methods:N},{path:"/dashboard/_dashboardId/cardList",methods:P},{path:"/dashboard",methods:H},{path:"/auth/sign-up",methods:X},{path:"/auth/sign-in",methods:K}],n,"");var Y=function(t){return Q.post("/auth/sign-in/",t.data)},Z=function(t){return Q.post("/auth/sign-up/",t.data)},$={user:{id:-1,name:"",email:""},loading:{post:{signIn:!1,signUp:!1}}},tt=Object(I.b)("auth/signIn",function(){var t=Object(L.a)(S.a.mark((function t(e,a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"Auth Error: Sign In"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),et=Object(I.b)("auth/signUp",function(){var t=Object(L.a)(S.a.mark((function t(e,a){var n;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(e).then((function(t){return t.data})).catch((function(t){return a.rejectWithValue({errorMessage:"Auth Error: Sign Up"})}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),at=Object(I.c)({name:"auth",initialState:$,reducers:{},extraReducers:function(t){t.addCase(tt.pending,(function(t){t.loading.post.signIn=!0})).addCase(tt.fulfilled,(function(t,e){t.loading.post.signIn=!1,t.user=e.payload.user,W({accessToken:e.payload.accessToken})})).addCase(tt.rejected,(function(t,e){var a;t.loading.post.signIn=!1,console.log(null===(a=e.payload)||void 0===a?void 0:a.errorMessage)})).addCase(et.pending,(function(t){t.loading.post.signUp=!0})).addCase(et.fulfilled,(function(t,e){t.loading.post.signUp=!1,t.user=e.payload.user,W({accessToken:e.payload.accessToken})})).addCase(et.rejected,(function(t,e){var a;t.loading.post.signUp=!1,console.log(null===(a=e.payload)||void 0===a?void 0:a.errorMessage)}))}}).reducer,nt=a(2),rt=Object(O.a)(),ct=function(){var t=y(),e=Object(v.a)(),a=e.register,n=e.handleSubmit;return Object(nt.jsx)(g.a,{theme:rt,children:Object(nt.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(nt.jsx)(l.a,{}),Object(nt.jsxs)(f.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(nt.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(nt.jsxs)(f.a,{component:"form",onSubmit:n((function(e){return t(tt({data:e}))})),noValidate:!0,sx:{mt:1},children:[Object(nt.jsx)(j.a,Object(d.a)({margin:"normal",label:"email",fullWidth:!0,autoComplete:"email",autoFocus:!0},a("email",{required:!0}))),Object(nt.jsx)(j.a,Object(d.a)({margin:"normal",label:"password",fullWidth:!0,type:"password",autoComplete:"current-password"},a("password",{required:!0}))),Object(nt.jsx)(b.a,{control:Object(nt.jsx)(h.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(nt.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(nt.jsxs)(p.a,{container:!0,children:[Object(nt.jsx)(p.a,{item:!0,xs:!0,children:Object(nt.jsx)(s.b,{to:"#",children:"Forgot password?"})}),Object(nt.jsx)(p.a,{item:!0,children:Object(nt.jsx)(s.b,{to:"/sign-up/",children:"Don't have an account? Sign Up"})})]})]})]})]})})},it=Object(O.a)(),st=function(){var t=y(),e=Object(v.a)(),a=e.register,n=e.handleSubmit;return Object(nt.jsx)(g.a,{theme:it,children:Object(nt.jsxs)(m.a,{component:"main",maxWidth:"xs",children:[Object(nt.jsx)(l.a,{}),Object(nt.jsxs)(f.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(nt.jsx)(x.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(nt.jsxs)(f.a,{component:"form",noValidate:!0,onSubmit:n((function(e){return t(et({data:e}))})),sx:{mt:3},children:[Object(nt.jsxs)(p.a,{container:!0,spacing:2,children:[Object(nt.jsx)(p.a,{item:!0,xs:12,children:Object(nt.jsx)(j.a,Object(d.a)({fullWidth:!0,label:"name",autoComplete:"name"},a("name",{required:!0})))}),Object(nt.jsx)(p.a,{item:!0,xs:12,children:Object(nt.jsx)(j.a,Object(d.a)({fullWidth:!0,label:"email",autoComplete:"email"},a("email",{required:!0})))}),Object(nt.jsx)(p.a,{item:!0,xs:12,children:Object(nt.jsx)(j.a,Object(d.a)({fullWidth:!0,type:"password",label:"password",autoComplete:"new-password"},a("password",{required:!0})))}),Object(nt.jsx)(p.a,{item:!0,xs:12,children:Object(nt.jsx)(b.a,{control:Object(nt.jsx)(h.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(nt.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(nt.jsx)(p.a,{container:!0,justifyContent:"flex-end",children:Object(nt.jsx)(p.a,{item:!0,children:Object(nt.jsx)(s.b,{to:"/",children:"Already have an account? Sign in"})})})]})]})]})})},ot=a(13),dt=function(t){var e=t.children,a=Object(O.a)();return Object(nt.jsx)(g.a,{theme:a,children:Object(nt.jsxs)(f.a,{height:"100%",sx:{display:"flex"},children:[Object(nt.jsx)(l.a,{}),e]})})},ut=a(240),lt=function(t){var e=t.children;return Object(nt.jsxs)(f.a,{component:"main",sx:{backgroundColor:function(t){return"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[Object(nt.jsx)(ut.a,{}),e]})},jt=a(227),bt=a(243),ht=a(244),pt=a(115),ft=a.n(pt),xt=a(116),mt=a.n(xt),Ot=a(117),gt=a.n(Ot),vt=a(5),wt=a(241),yt=a(237),Ct=a(113),kt=a.n(Ct),St=Object(vt.a)(wt.a,{shouldForwardProp:function(t){return"open"!==t}})((function(t){var e=t.theme,a=t.open;return Object(d.a)({zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},a&&{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})})})),Lt=function(t){var e=t.open,a=t.toggle,n=t.boardName;return Object(nt.jsx)(St,{position:"absolute",open:e,children:Object(nt.jsxs)(ut.a,{sx:{pr:"24px"},children:[Object(nt.jsx)(yt.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:a,sx:Object(d.a)({marginRight:"36px"},e&&{display:"none"}),children:Object(nt.jsx)(kt.a,{})}),Object(nt.jsx)(x.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,sx:{flexGrow:1},children:n})]})})},It=a(4),Wt=a(232),Mt=a(239),Tt=a(242),Ut=a(114),Dt=a.n(Ut),Ft=Object(vt.a)(Wt.a,{shouldForwardProp:function(t){return"open"!==t}})((function(t){var e=t.theme,a=t.open;return{"& .MuiDrawer-paper":Object(d.a)({position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),boxSizing:"border-box"},!a&&Object(It.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}))}})),Vt=function(t){var e=t.open,a=t.toggle,n=t.children;return Object(nt.jsxs)(Ft,{variant:"permanent",open:e,children:[Object(nt.jsx)(ut.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",px:[1]},children:Object(nt.jsx)(yt.a,{onClick:a,children:Object(nt.jsx)(Dt.a,{})})}),Object(nt.jsx)(Tt.a,{}),Object(nt.jsx)(Mt.a,{children:n})]})},Et=function(t){var e=t.children,a=C((function(t){return t.dashboard.dashboard})),n=Object(r.useState)(!1),c=Object(ot.a)(n,2),i=c[0],s=c[1],o=function(){return s((function(t){return!t}))},d=a.tittle?a.tittle:"\u540d\u79f0\u672a\u8a2d\u5b9a";return Object(nt.jsxs)(dt,{children:[Object(nt.jsx)(Lt,{open:i,toggle:o,boardName:d}),Object(nt.jsxs)(Vt,{open:i,toggle:o,children:[Object(nt.jsxs)(jt.a,{button:!0,children:[Object(nt.jsx)(bt.a,{children:Object(nt.jsx)(ft.a,{})}),Object(nt.jsx)(ht.a,{primary:"Dashboard"})]}),Object(nt.jsxs)(jt.a,{button:!0,children:[Object(nt.jsx)(bt.a,{children:Object(nt.jsx)(mt.a,{})}),Object(nt.jsx)(ht.a,{primary:"Members"})]}),Object(nt.jsxs)(jt.a,{button:!0,children:[Object(nt.jsx)(bt.a,{children:Object(nt.jsx)(gt.a,{})}),Object(nt.jsx)(ht.a,{primary:"Settings"})]})]}),Object(nt.jsx)(lt,{children:e})]})},qt=a(245),Rt=a(118),At=a.n(Rt),zt=function(t){var e=t.dashboard;return Object(nt.jsx)(Et,{children:Object(nt.jsx)(_t,{cardLists:e.cardLists})})},_t=function(t){var e=t.cardLists;return Object(nt.jsxs)(f.a,{overflow:"auto",sx:{display:"flex",flexDirection:"row",m:4,height:640},children:[e.map((function(t,e){return Object(nt.jsx)(Gt,{name:t.tittle,cardListId:t.id,cards:t.cards},"cardList-".concat(e))})),Object(nt.jsx)(Bt,{})]})},Bt=function(t){var e=Object(v.a)(),a=e.register,n=e.reset,c=e.handleSubmit,i=Object(r.useState)(!1),s=Object(ot.a)(i,2),o=s[0],u=s[1],l=y();return Object(nt.jsx)(f.a,{component:"form",onSubmit:c((function(t){l(B({dashboardId:1,data:t})),u(!1),n()})),sx:{display:"block"},children:Object(nt.jsxs)(qt.a,{sx:{minWidth:360,m:2,p:2,backgroundColor:"#ffffff3d"},onClick:function(){o||u(!0)},children:["\u30ea\u30b9\u30c8\u3092\u8ffd\u52a0",o&&Object(nt.jsxs)(nt.Fragment,{children:[Object(nt.jsx)(j.a,Object(d.a)({margin:"normal",placeholder:"\u30ea\u30b9\u30c8\u306e\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b...",sx:{maxWidth:320},fullWidth:!0,autoFocus:!0},a("tittle"))),Object(nt.jsx)(yt.a,{onClick:function(){u(!1),n()},children:Object(nt.jsx)(At.a,{})})]})]})})},Gt=function(t){var e=t.name,a=t.cardListId,n=t.cards,c=Object(r.useState)(!1),i=Object(ot.a)(c,2),s=i[0],o=i[1],l=Object(v.a)(),b=l.register,h=l.reset,p=l.handleSubmit,m=y(),O=function(){o((function(t){return!t})),h()};return Object(nt.jsx)(f.a,{sx:{minWidth:360,display:"block"},children:Object(nt.jsxs)(f.a,{component:"form",onSubmit:p((function(t){m(_({dashboardId:1,cardListId:a,data:t})),O()})),sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",backgroundColor:"#ebecf0",p:2,m:2},children:[Object(nt.jsx)(x.a,{children:e}),n.length>=1&&n.map((function(t,e){return Object(nt.jsx)(Jt,{card:t},"card-".concat(e))})),s&&Object(nt.jsx)(j.a,Object(d.a)({margin:"normal",placeholder:"\u30bf\u30a4\u30c8\u30eb\u3092\u5165\u529b...",fullWidth:!0,autoFocus:!0},b("tittle"))),Object(nt.jsx)(u.a,{sx:{mt:2},variant:"outlined",onClick:O,children:"\u30ab\u30fc\u30c9\u3092\u8ffd\u52a0"})]})})},Jt=function(t){var e=t.card;return Object(nt.jsx)(qt.a,{sx:{mt:2,p:2,width:"100%"},children:e.tittle})},Nt=function(){var t=C((function(t){return t.dashboard.dashboard}));return Object(nt.jsx)(zt,{dashboard:t})},Pt=function(){var t=M();return Object(nt.jsx)(s.a,{basename:"/todo-frontend",children:t?Object(nt.jsx)(o.c,{children:Object(nt.jsx)(o.a,{path:"/board/",element:Object(nt.jsx)(Nt,{})})}):Object(nt.jsxs)(o.c,{children:[Object(nt.jsx)(o.a,{path:"/",element:Object(nt.jsx)(ct,{})}),Object(nt.jsx)(o.a,{path:"/sign-up/",element:Object(nt.jsx)(st,{})})]})})};var Ht=function(){return Object(nt.jsx)(Pt,{})};i.a.render(Object(nt.jsx)(r.StrictMode,{children:Object(nt.jsx)(w.a,{store:J,children:Object(nt.jsx)(Ht,{})})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.2814eadd.chunk.js.map